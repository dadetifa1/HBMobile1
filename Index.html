<!doctype html>
<html lang="en">
<head>
 
 <script src="Scripts/jquery-1.4.1.min.js" type="text/javascript"></script>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="viewport" content="width=device-width; initial-scale=0.5; maximum-scale=0.6; minimum-scale=0.6; user-scalable=0;" />
    <link rel="stylesheet" href="Styles/Style.css"/>
    <link rel="stylesheet" href="Repository/jquery.signaturepad.css"/>
    <!--[if lt IE 9]><script src="Repository/flashcanvas.js"></script><![endif]-->
     <script src="Repository/jquery.signaturepad.min.js">
<script src="Repository/json2.min.js"></script>
</script>
<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>	
	
	<script type="text/javascript" src="Scripts/jquery-ui-1.8.18.custom.min.js"></script>

    <script type="text/javascript">

$(document).ready(function() { 
$("#FacilityType").change(function(){ 
var str=$('#FacilityType').find('option:selected').text();
if(str=='facility')
{
$('#lblFacilityType').text(' I here by certify that the above named member was seen at this facility today'); 

}
else
{
$('#lblFacilityType').text('I do here by certify that I was transported to the above named facility today'); 

}

}); 
var str1=$('#FacilityType').find('option:selected').text();
if(str1=='facility')
{
$('#lblFacilityType').text(' I here by certify that the above named member was seen at this facility today'); 

}
else
{
$('#lblFacilityType').text('I do here by certify that I was transported to the above named facility today'); 

}

});


$(function(){
			$('#formDate').datepicker({
				 //inline: true,
				//nextText: '&rarr;',
				//prevText: '&larr;',
				showOtherMonths: true,
				//dateFormat: 'dd MM yy',
				dayNamesMin: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
				showOn: "button",
				buttonImage: "Images/add-calendar.png",
				buttonImageOnly: true,
			});
$('#DateOfBirth').datepicker({
				// inline: true,
				//nextText: '&rarr;',
				//prevText: '&larr;',
				showOtherMonths: true,
				//dateFormat: 'dd MM yy',
				dayNamesMin: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
				showOn: "button",
				buttonImage: "Images/add-calendar.png",
				buttonImageOnly: true,

			});

$('#AppDate').datepicker({
				 inline: true,
				//nextText: '&rarr;',
				//prevText: '&larr;',
				showOtherMonths: true,
				//dateFormat: 'dd MM yy',
				dayNamesMin: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
				showOn: "button",
				buttonImage: "Images/add-calendar.png",
				buttonImageOnly: true,

			});

		});


//
   $('#btnSave').live('click', function () {
            // debugger;

var fDate = $('#formDate').val();
var cName = $('#ClientName').val();
var fName = $('#FacilityName').val();
var pickAddress = $('#PickupAddress').val();
var dropAddress = $('#DropOffAddress').val();
var dob = $('#DateOfBirth').val();
var gender = $('#Gender').find('option:selected').text();
var aDate = $('#AppDate').val();
var aTime = $('#AppTime').val();
var pickTimeHome = $('#PickUpTimeHome').val();

var dropTimeClinic = $('#DropOffTimeClinic').val();
var pickTimeClinic = $('#PickupTimeClinic').val();
var dropTimeHome = $('#DropOffTimeHome').val();

var clientPhone = $('#ClientPhoneNumber').val();
var clientClaimNumber = $('#ClientClaimNumber').val();
var facilityPhone = $('#FacilityPhoneNumber').val();

var driverName = $('#DriverName').val();	     
var fSignature = $('#facilitySignature').val();
var dSignature = $('#driverSignature').val();

if(fDate=='')
{
   alert('Please enter form date');
   return false;
 
 
}
if(cName=='')
{
   alert('Please enter Client Name');
   return false;

}

if(pickAddress =='')
{
   alert('Please enter Pick up Address');
   return false;

}

if(dropAddress =='')
{
   alert('Please enter drop off Address');
   return false;

}
if(dob =='')
{
   alert('Please enter Date of Birth');
   return false;

}

if(gender =='')
{
   alert('Please select gender');
   return false;

}
if(aDate =='')
{
   alert('Please enter Application Date');
   return false;

}

if(aTime =='')
{
   alert('Please enter Application Time');
   return false;

}

if(pickTimeHome =='')
{
   alert('Please enter Pick up Home Time');
   return false;

}

if(dropTimeClinic =='')
{
   alert('Please enter Drop Off Clinic Time');
   return false;

}

if(pickTimeClinic =='')
{
   alert('Please enter Pick Up Clinic Time');
   return false;

}

if(dropTimeHome =='')
{
   alert('Please enter Drop Off Home Time');
   return false;

}

if(clientPhone =='')
{
   alert('Please enter Client Phone Number');
   return false;

}

if(clientClaimNumber =='')
{
   alert('Please enter Client Claim Number');
   return false;

}
if(facilityPhone =='')
{
   alert('Please enter Facility Phone Number');
   return false;

}

if(driverName =='')
{
   alert('Please enter Driver Name');
   return false;

}

if(fSignature =='')
{
   alert('Please enter Facility Signature');
   return false;

}

if(dSignature =='')
{
   alert('Please enter Driver Signature');
   return false;

}


var request = { mobData: { StringSubmitDate:fDate ,
ClientName: cName ,
FacilityName:fName ,
PickupAddressHome:pickAddress ,
DropOffAddressClinic: dropAddress,
StringDateOfBirth:dob ,
Gender:gender ,
StringAppointmentDate:aDate ,
AppointmentTime:aTime ,
PickupTimeHome:pickTimeHome ,
DropOffTimeClinic:dropTimeClinic ,
PickupTimeClinic:pickTimeClinic ,
DropOffTimeHome:dropTimeHome ,
ClientPhoneNumber:clientPhone ,
MedicalClaimNumber:clientClaimNumber ,
FacilityPhoneNumber:facilityPhone ,
DriverName:driverName ,
DriverSignature:dSignature ,
FacilitySignature:fSignature 
 } }; 

var jsondata = JSON.stringify(request);            

                $.ajax({
                    type: "POST",    
				url: "http://9f07162d44ae48be9a9ffa9ad821af5e.cloudapp.net/MobileService.svc" + '/InsertMobileData',					
                    contentType: "application/json; charset=utf-8",
                    data: jsondata,
                    dataType: "json",
                    error: function (msg) {                       
                        alert('Service call failed: ' + msg.status + ' Type :' + msg.statusText);
                    },
                    success: function (msg) {                       
                       
                            alert("Data Saved Sucessfully.");                       
                    }
                });
            //}
            return false;
        });

//    
 
      
 
        $(document).ready(function () {
            $('.sigPad').signaturePad(); 
	    });
 
      

    </script>
    
  </head>

  <body>   

    <fieldset>
       <div id="wrapper">
        <h1>
            Homebound Transportation</h1>
        <h2>
            1401 W River Road Suite A</h2>
        <h2>
            Minneapolis, MN 55411</h2>
        <h2>
            (612) 229-7190</h2>     
        <form action="" >
        <fieldset>
            <table>
                <tr align="left">
                    <td align="left" colspan="2">
                        <label for="formDate">
                            Date:</label>
                    </td>
                    <td colspan="2">
                        <input type="text" id="formDate" />
                    </td>
                </tr>
            </table>
        </fieldset>
        <fieldset>
            <table>
                <tr>
                    <td>
                        <label for="ClientName">
                            Client's Name:</label>
                    </td>
                    <td>
                        <label for="FacilityName">
                            Facility Name:</label>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="text" id="ClientName" />
                    </td>
                    <td>
                        <input type="text" id="FacilityName" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="PickupAddress">
                            Pick-up Address (Home):</label>
                    </td>
                    <td>
                        <label for="DropOffAddress">
                            Drop-off Address (Clinic):</label>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="text" id="PickupAddress" />
                    </td>
                    <td>
                        <input type="text" id="DropOffAddress" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="DateOfBirth">
                            Date of Birth:</label>
                    </td>
                    <td>
                        <label for="Gender">
                            Gender:</label>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="text" id="DateOfBirth" />
                    </td>
                    <td>
                        <select name="Gender" id="Gender" style="width:158px;">
<option value="1">Male</option>
<option value="2" >Female</option>

</select>


                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="AppDate">
                            Appointment Date:</label>
                    </td>
                    <td>
                        <label for="AppTime">
                            Appointment Time:</label>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="text" id="AppDate" />
                    </td>
                    <td>
                        <input type="text" id="AppTime" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="PickUpTimeHome">
                            Pick-up Time(Home):</label>
                    </td>
                    <td>
                        <label for="DropOffTimeClinic">
                            Drop-off Time (Clinic):</label>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="text" id="PickUpTimeHome" />
                    </td>
                    <td>
                        <input type="text" id="DropOffTimeClinic" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="PickupTimeClinic">
                            Pick-up Time(Clinic):</label>
                    </td>
                    <td>
                        <label for="DropOffTimeHome">
                            Drop-off Time (Home):</label>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="text" id="PickupTimeClinic" />
                    </td>
                    <td>
                        <input type="text" id="DropOffTimeHome" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="ClientPhoneNumber">
                            Client's Phone Number:</label>
                    </td>
                    <td>
                        <label for="ClientClaimNumber">
                            Medical ID/Claim Number:</label>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="text" id="ClientPhoneNumber" />
                    </td>
                    <td>
                        <input type="text" id="ClientClaimNumber" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="FacilityPhoneNumber">
                            Facility Phone Number:</label>
 
                    </td>
                    <td>
                        <label for="DriverName">
                            Driver Name:</label>

                    </td>
                </tr>

 <tr>
                    <td>                       
 <input type="text" id="FacilityPhoneNumber" />
                    </td>
                    <td>
                       <input type="text" id="DriverName" />

                    </td>
                </tr>


</table>
              
<table width="300" align="right" height="100">
 <tr>
                    <td>                       
   <label for="FacilityType">
                            Facility Type:</label>

                    </td>
                    <td>
                     <select name="FacilityType" id="FacilityType" style="width:158px;">
<option value="1" selected="selected">facility</option>
<option value="2">member/customer</option>
</select>

                    </td>
                </tr>

<tr>
<td>
  <label for="FacilitySignature">
                            Facility Signature/Name:</label>
</td>

<td>

 <div class="sigPad">

                        <input type="text" id="FacilitySignature" class="name" />
                        <p class="typeItDesc">
                            Review your signature</p>
                        <p class="drawItDesc">
                            Draw your signature</p>
                        <ul class="sigNav">
                            <li class="typeIt"><a href="#type-it" class="current">Type It</a></li>
                            <li class="drawIt"><a href="#draw-it">Draw It</a></li>
                            <li class="clearButton"><a href="#clear">Clear</a></li>
                        </ul>
                        <div class="sig sigWrapper">
                            <div class="typed">
                            </div>
                            <canvas class="pad" width="298"  height="100"></canvas>
                            <input type="hidden" name="output" class="output" id="facilitySignature" />
                        </div>            
                                               
                     </div>  

</td>
</tr>
<tr>
<td calspan="2"></td>
</tr>
<tr>
<td colspan="2">
 <label id="lblFacilityType" name="lblFacilityType">
                            </label>

</td>
</tr>
    <tr>
<td calspan="2"></td>
</tr>

<tr>
<td>
  <label for="DriverSignature">
                            Driver Signature/Name:</label>
</td>

<td>

<div class="sigPad">
 <label for="DriverSignature">Driver Signature/Name:</label>
  <input type="text" id="DriverSignature" class="name" />
                        <p class="typeItDesc">
                            Review your signature</p>
                        <p class="drawItDesc">
                            Draw your signature</p>
                        <ul class="sigNav">
                            <li class="typeIt"><a href="#type-it" class="current">Type It</a></li>
                            <li class="drawIt"><a href="#draw-it">Draw It</a></li>
                            <li class="clearButton"><a href="#clear">Clear</a></li>
                        </ul>
                        <div class="sig sigWrapper">
                            <div class="typed">
                            </div>
                            <canvas class="pad" width="298" height="100"></canvas>
                            <input type="hidden" name="output" class="output" id="driverSignature" />
                        </div>            
                                               
                       
                        </div>

</td>
</tr>
                    
                 
               
 <tr>                  
                    <td>
        <button id='btnSave'>Save</button>
                    </td>
  <td>
                        <button id='reset'>Reset</button>
                    </td>

                </tr>
            
            </table>
            <br />
        </fieldset>

        <div id="content">

	</div>

        </form>
        <a href="javascript:void(0)" id="clear">Clear Form</a>
    </div>  
      
    </fieldset>  
  </body>
</html>
